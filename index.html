<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WALLY 自由教練工作室 - 首頁</title>
    <style>
        :root {
            /* --- 主題色 --- */
            --theme-yellow: #fcc419;
            --theme-yellow-hover: #ffd43b;
            --text-on-yellow: #212529;
        }

        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; 
            margin: 0;
            background-color: #212529;
            color: #e0e0e0;
            display: flex;
            flex-direction: column;
            height: 100dvh; /* 使用動態可視高度，解決手機瀏覽器捲軸問題 */
            overflow: hidden; /* 隱藏所有溢出的內容，移除捲軸 */
        }

        .social-icon {
            color: #ffffff;
            text-decoration: none;
            transition: transform 0.2s, color 0.2s;
            display: inline-block; /* 讓 transform 生效 */
        }
        .social-icon:hover {
            transform: scale(1.1);
            color: var(--theme-yellow); /* 滑鼠懸停時變為主題黃色 */
        }
        .social-icon svg {
            width: 28px; /* 設定圖示大小 */
            height: 28px;
        }

        .hero { 
            position: relative;
            overflow: hidden; /* 關鍵：隱藏模糊效果的邊緣 */
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
        }

        /* 新增：使用偽元素來專門處理背景圖和模糊效果 */
        .hero::before {
            content: '';
            position: absolute;
            top: -10px; right: -10px; bottom: -10px; left: -10px; /* 放大偽元素以避免模糊邊緣 */
            z-index: 1;
            background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('images/cover.jpeg');
            background-size: cover;
            background-position: center;
            filter: blur(3px); /* 加上模糊效果 */
        }

        .hero > * {
            position: relative; /* 確保內容在遮罩之上 */
            z-index: 2;
        }

        h1 {
            color: #ffffff;
            font-size: 3rem; /* 恢復原來的字體大小 */
            margin: 0 0 0.5rem 0;
            font-weight: 700;
        }

        p {
            color: #b0b0b0;
            font-size: 1.25rem;
            margin-bottom: 2rem;
        }

        /* 新增：主按鈕下方的社群圖示容器 */
        .social-links {
            margin-top: 2.5rem; /* 與上方按鈕的間距 */
            display: flex;
            gap: 1.5rem; /* 圖示之間的間距 */
            align-items: center;
        }

        /* 新增：獨立的分隔線樣式 */
        .separator {
            width: 1px;
            background-color: rgba(255, 255, 255, 0.5); /* 使用半透明白色 */
            height: 24px; /* 讓分隔線與圖示同高 */
        }
        .btn {
            display: inline-block;
            padding: 1rem 2.5rem;
            font-size: 1.2rem;
            font-weight: bold;
            text-decoration: none;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-primary { 
            background-color: var(--theme-yellow); /* 使用主題黃色 */
            color: var(--text-on-yellow);
        }

        .btn-primary:hover {
            background-color: var(--theme-yellow-hover); /* 滑鼠懸停時的亮黃色 */
        }

        /* 新增：放在圖片左下角的聯絡資訊 */
        .contact-info {
            position: absolute;
            bottom: 1.5rem;
            left: 50%; /* 水平置中第一步：移到 50% 位置 */
            transform: translateX(-50%); /* 水平置中第二步：向左移自身寬度的一半 */
            width: 90%; /* 增加寬度以避免文字換行 */
            z-index: 2;
            text-align: center; /* 文字水平置中 */
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.6; /* 調整行高以增加可讀性 */
        }
        .contact-info p {
            margin: 0; /* 覆蓋 p 的預設樣式 */
        }

        .desktop-only-space {
            display: inline; /* 或不寫，因為 span 預設就是 inline */
        }
        
        .mobile-only-break {
            display: none; /* 在桌面版預設隱藏 */
        }
        
        /* 響應式設計：在小螢幕上調整字體大小 */
        @media (max-width: 600px) {
            h1 {
                font-size: 2.5rem; /* 恢復手機版的字體大小 */
            }
            p {
                font-size: 1.1rem;
            }
            .btn {
                padding: 0.8rem 2rem;
                font-size: 1.1rem;
            }
            .social-icon svg {
                width: 24px;
                height: 24px;
            }
            .contact-info {
                font-size: 0.75rem;
                bottom: 1rem;
            }
            .desktop-only-space {
                display: none; /* 在手機版隱藏這個空格 */
            }
            .mobile-only-break {
                display: block; /* 在手機版顯示為區塊元素，強制換行 */
            }
        }
    </style>
</head>
<body>
    <main class="hero">
        <h1>WALLY<span class="desktop-only-space"> </span><br class="mobile-only-break">自由教練工作室</h1>
        <p>打造理想體態，從這裡開始。</p>
        <a href="courses.html" class="btn btn-primary">立即預約課程</a>
        <div class="social-links">
            <a href="https://www.threads.net/@freecoachwally" target="_blank" rel="noopener noreferrer" class="social-icon" title="前往 Threads">
                <!-- 更換為 @ 符號圖示 -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>
                </svg>
            </a>
            <a href="https://www.instagram.com/freecoachwally/" target="_blank" rel="noopener noreferrer" class="social-icon" title="前往 Instagram">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                </svg>
            </a>
            <div class="separator"></div>
            <!-- 新增：管理者登入圖示 -->
            <a href="manager.html" class="social-icon" title="管理者後台">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle>
                </svg>
            </a>
        </div>
        <div class="contact-info">
            <p>0937-402-893</p>
            <p>新竹市中華路二段 625 號 2 樓</p>
        </div>
    </main>

    <!-- 載入共用設定檔 -->
    <script src="config.js"></script>
    <!-- 載入 LIFF SDK -->
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script>
        // 關鍵變更：在首頁也進行 LIFF 初始化
        document.addEventListener('DOMContentLoaded', async () => {
            const urlParams = new URLSearchParams(window.location.search);
            const debugMode = urlParams.get('debug') === 'true';
            const bookingLink = document.querySelector('a.btn-primary');

            try {
                // 使用 config.js 中定義的 LIFF ID 初始化
                await liff.init({ liffId: AppConfig.LIFF_ID });

                // 根據是否在 LIFF 環境中，決定按鈕的連結
                if (liff.isInClient()) {
                    // 在 LINE App 中，使用 LIFF 連結來開啟 courses.html
                    bookingLink.href = `https://liff.line.me/${AppConfig.LIFF_ID}/courses.html${debugMode ? '?debug=true' : ''}`;
                } else {
                    // 在外部瀏覽器中，使用普通連結
                    bookingLink.href = `courses.html${debugMode ? '?debug=true' : ''}`;
                }
            } catch (error) {
                console.error('LIFF initialization failed on index.html:', error);
                // 即使 LIFF 初始化失敗，也提供一個備用連結
                bookingLink.href = `courses.html${debugMode ? '?debug=true' : ''}`;
            }
        });
    </script>
</body>
</html>
